# OpenWorkflow Specification

Version 1.0.0

## Introduction

The OpenWorkflow Specification (OWS) defines a standard for the sequential invocation of general-purpose tools based on the OpenTool Specification (OTS). It allows humans and computers to understand and set the order of service invocations without requiring access to source code or documentation. When defined correctly, consumers can use the tool's interfaces in sequence with minimal implementation logic.

### References

OpenWorkflow is used to define the invocation sequence of tool interfaces. The tools being invoked are based on OpenTool descriptions, and the ToolDriver has already implemented the invocation of specific tool interfaces.

Currently implemented ToolDrivers for OpenTool include: [OpenAPI3/HTTP](https://github.com/djbird2046/openapi_dart), [OpenRPC/JsonRPC](https://github.com/djbird2046/openrpc_dart), [OpenModbus/RTU/ASCII/TCP/UDP](https://github.com/djbird2046/openmodbus_dart).

### Objectives

The goal is for users to execute tool interfaces sequentially according to a JSON description without needing to understand program code. This can be achieved by writing (or generating through a Large Language Model) a JSON file.

OpenWorkflow is aimed at general-purpose program invocation sequence descriptions. The writing process references OpenTool descriptions, and the invocation process is driven by ToolDriver to execute specific tools.

By defining the invocation sequence through OpenWorkflow, once written (whether by a human or generated by a Large Language Model), it can be reused indefinitely.

## Objects

### OpenWorkflow Object

| Field        | Type                                 | Description                                                                                                                                                                          |
|--------------|--------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| openworkflow | `string`                             | **Required**. The version of the current OpenWorkflow JSON document.                                                                                                                 |
| info         | Info Object                          | **Required**. Information describing the current OpenWorkflow document.                                                                                                              |
| workflow     | Map\[`string`, FunctionItem Object\] | **Required**. Describes the sequence of interface invocations, including the input parameters and default return values. The first interface to be invoked has the key name "start". |

### Info Object

| Field       | Type     | Description                                                                                     |
|-------------|----------|-------------------------------------------------------------------------------------------------|
| title       | `string` | **Required**. The title of the current OpenWorkflow JSON document.                              |
| description | `string` | A more detailed description of the current OpenWorkflow document.                               |
| version     | `string` | **Required**. The version number of the current document, used for document version management. |

### FunctionItem Object

| Field       | Type                     | Description                                                                                                                                               |
|-------------|--------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------|
| function    | `string`                 | **Required**. Corresponds to the `name` of the function in OpenTool.                                                                                      |
| description | `string`                 | Description of the current function invocation.                                                                                                           |
| arguments   | Map\[`string`, dynamic\] | **Required**. Based on the description format of the function's parameters in OpenTool, fill in the specific values. If none, value can be `{}`.          |
| results     | Map\[`string`, dynamic\] | **Required**. Based on the description format of the function's return values in OpenTool, fill in the default return values. If none, value can be `{}`. |
| next        | `string`                 | **Required**. The name of the next step to be executed. If no further steps are required, fill in a string with no corresponding name.                    |
